<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.shape.*?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.progettoswe.controller.ProfileController"
      style="-fx-background-color: #f8f9fa;" spacing="0" prefWidth="1000" prefHeight="600">

    <!-- Header -->
    <HBox alignment="CENTER" style="-fx-background-color: white; -fx-padding: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 5, 0, 0, 2);">
        <StackPane>
            <Rectangle width="50" height="50" arcWidth="15" arcHeight="15" fill="#4361ee">
                <effect>
                    <InnerShadow color="#3a0ca3" radius="5"/>
                </effect>
            </Rectangle>
            <Label text="LMS" style="-fx-font-weight: bold; -fx-text-fill: white; -fx-font-size: 16;"/>
        </StackPane>

        <Label text="Profilo utente" style="-fx-font-size: 20; -fx-text-fill: #495057; -fx-font-weight: bold;" HBox.hgrow="ALWAYS" alignment="CENTER"/>

        <Button text="Home" onAction="#tornaIndietro"
                style="-fx-background-color: #4361ee; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6; -fx-pref-height: 40; -fx-min-width: 100; -fx-font-size: 14; -fx-cursor: hand;"/>
    </HBox>

    <!-- Contenuto Centrale -->
    <VBox alignment="CENTER" style="-fx-padding: 20;" VBox.vgrow="ALWAYS">
        <GridPane style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 30; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 10, 0, 0, 3);"
                  hgap="30" vgap="20" alignment="TOP_CENTER" prefWidth="800">

            <!-- Definizione colonne -->
            <columnConstraints>
                <ColumnConstraints halignment="RIGHT" minWidth="200"/>
                <ColumnConstraints halignment="LEFT" minWidth="300"/>
                <ColumnConstraints halignment="RIGHT" minWidth="200"/>
                <ColumnConstraints halignment="LEFT" minWidth="300"/>
            </columnConstraints>

            <!-- Titoli Sezioni -->
            <Label text="Informazioni personali" style="-fx-font-size: 18; -fx-text-fill: #4361ee; -fx-font-weight: bold;"
                   GridPane.columnSpan="2" GridPane.rowIndex="0" GridPane.halignment="CENTER"/>

            <Label text="Modifica password" style="-fx-font-size: 18; -fx-text-fill: #4361ee; -fx-font-weight: bold;"
                   GridPane.columnIndex="2" GridPane.columnSpan="2" GridPane.rowIndex="0" GridPane.halignment="CENTER"/>

            <!-- Riga 1 -->
            <Label text="Nome:" GridPane.rowIndex="1" style="-fx-font-size: 14; -fx-text-fill: #6c757d;"/>
            <TextField fx:id="nome" GridPane.rowIndex="1" GridPane.columnIndex="1"
                       style="-fx-background-radius: 6; -fx-border-radius: 6; -fx-border-color: #e9ecef; -fx-border-width: 1; -fx-pref-height: 40; -fx-font-size: 14; -fx-min-width: 250;"/>

            <Label text="Password attuale:" GridPane.columnIndex="2" GridPane.rowIndex="1" style="-fx-font-size: 14; -fx-text-fill: #6c757d;"/>
            <PasswordField fx:id="vecchiaPassword" GridPane.columnIndex="3" GridPane.rowIndex="1"
                           style="-fx-background-radius: 6; -fx-border-radius: 6; -fx-border-color: #e9ecef; -fx-border-width: 1; -fx-pref-height: 40; -fx-font-size: 14; -fx-min-width: 250;"/>

            <!-- Riga 2 -->
            <Label text="Cognome:" GridPane.rowIndex="2" style="-fx-font-size: 14; -fx-text-fill: #6c757d;"/>
            <TextField fx:id="cognome" GridPane.rowIndex="2" GridPane.columnIndex="1"
                       style="-fx-background-radius: 6; -fx-border-radius: 6; -fx-border-color: #e9ecef; -fx-border-width: 1; -fx-pref-height: 40; -fx-font-size: 14; -fx-min-width: 250;"/>

            <Label text="Nuova password:" GridPane.columnIndex="2" GridPane.rowIndex="2" style="-fx-font-size: 14; -fx-text-fill: #6c757d;"/>
            <PasswordField fx:id="password" GridPane.columnIndex="3" GridPane.rowIndex="2"
                           style="-fx-background-radius: 6; -fx-border-radius: 6; -fx-border-color: #e9ecef; -fx-border-width: 1; -fx-pref-height: 40; -fx-font-size: 14; -fx-min-width: 250;"/>

            <!-- Riga 3 -->
            <Label text="Email:" GridPane.rowIndex="3" style="-fx-font-size: 14; -fx-text-fill: #6c757d;"/>
            <TextField fx:id="email" GridPane.rowIndex="3" GridPane.columnIndex="1"
                       style="-fx-background-radius: 6; -fx-border-radius: 6; -fx-border-color: #e9ecef; -fx-border-width: 1; -fx-pref-height: 40; -fx-font-size: 14; -fx-min-width: 250;"/>

            <Label text="Conferma password:" GridPane.columnIndex="2" GridPane.rowIndex="3" style="-fx-font-size: 14; -fx-text-fill: #6c757d;"/>
            <PasswordField fx:id="confermaPassword" GridPane.columnIndex="3" GridPane.rowIndex="3"
                           style="-fx-background-radius: 6; -fx-border-radius: 6; -fx-border-color: #e9ecef; -fx-border-width: 1; -fx-pref-height: 40; -fx-font-size: 14; -fx-min-width: 250;"/>

            <!-- Pulsanti -->
            <HBox spacing="30" alignment="CENTER" GridPane.columnSpan="4" GridPane.rowIndex="4" style="-fx-padding: 30 0 0 0;">
                <Button text="Salva modifiche" onAction="#salvaInformazioni"
                        style="-fx-background-color: #4361ee; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6; -fx-pref-height: 45; -fx-min-width: 180; -fx-font-size: 14; -fx-cursor: hand;"/>

                <Button text="Elimina account" onAction="#cancellaUtente"
                        style="-fx-background-color: #f72585; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6; -fx-pref-height: 45; -fx-min-width: 180; -fx-font-size: 14; -fx-cursor: hand;"/>
            </HBox>
        </GridPane>
    </VBox>

    <!-- Footer -->
    <HBox alignment="CENTER" style="-fx-background-color: white; -fx-padding: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.05), 5, 0, 0, -2);">
        <Button text="Logout" onAction="#logout"
                style="-fx-background-color: #6c757d; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 6; -fx-pref-height: 40; -fx-min-width: 120; -fx-font-size: 14; -fx-cursor: hand;"/>
    </HBox>
</VBox>